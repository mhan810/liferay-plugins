<?xml version="1.0"?>
<!DOCTYPE project>

<project name="build-cloud-common" basedir="../cloud-common">
    <property name="cloud-common.dir" value="../cloud-common"/>
    <property name="lib.dir" value="${cloud-common.dir}/lib"/>
    <property name="target.dir" value="${cloud-common.dir}/target"/>
    <property name="src.dir" value="${cloud-common.dir}/src"/>
    <property name="classes.dir" value="${target.dir}/classes"/>

    <import file="../../build-common.xml"/>

    <path id="classpath">
        <fileset dir="${lib.dir}" includes="**/*.jar"/>
    </path>

    <target name="clean">
        <delete file="${target.dir}" />
    </target>

   <target name="compile">
       <mkdir dir="${classes.dir}"/>
       <mkdir dir="${lib.dir}"/>

       <javac srcdir="${src.dir}" destdir="${classes.dir}" classpathref="classpath" target="1.5" source="1.5" includeantruntime="false"/>

       <jar destfile="${target.dir}/cloud-common.jar" basedir="${classes.dir}"/>

       <copy file="${target.dir}/cloud-common.jar"  todir="docroot/WEB-INF/lib"/>
   </target>
</project>